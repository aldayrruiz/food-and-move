<app-header-patient [patient]="patient" title="Feedback"></app-header-patient>
<div class="container">
  <!-- Pick a date to show feedback -->
  <div class="form__main">
    <div class="form__box box__shadow" style="margin: 10px">
      <div class="main__primary">
        <app-feedback-row
          text="¿Qué tal te has despertado"
          [feedbacks]="feedbacks"
          [dateRange]="dateRange"
          fieldInput="howDoYouFeel"
        ></app-feedback-row>
        <mat-divider></mat-divider>
        <app-feedback-row
          text="¿Qué tal te ha ido el día de hoy?"
          [feedbacks]="feedbacks"
          [dateRange]="dateRange"
          fieldInput="howIsItGoingTheDiet"
        ></app-feedback-row>
        <mat-divider></mat-divider>
        <app-feedback-row
          text="¿Qué tal te ha ido con la dieta"
          [feedbacks]="feedbacks"
          [dateRange]="dateRange"
          fieldInput="howIsItGoingTheExercises"
        ></app-feedback-row>
        <mat-divider></mat-divider>
        <app-feedback-row
          text="¿Qué tal te ha ido con los ejercicios?"
          [feedbacks]="feedbacks"
          [dateRange]="dateRange"
          fieldInput="howHaveYouFeel"
        ></app-feedback-row>
      </div>
      <ng-template #noFeedback>
        No ha habido feedback este día ó seleccione solo 1 día para ver esta información.
      </ng-template>
    </div>
    <div class="main__secondary">
      <div class="form__calendar" style="margin: 0">
        <!--        <mat-card class="calendar">-->
        <!--          <mat-calendar [(selected)]="created_at" (selectedChange)="selectedDateChanged($event)"></mat-calendar>-->
        <!--        </mat-card>-->
        <mat-card class="calendar">
          <mat-calendar (selectedChange)="onSelectedDateRangeChanged($event)" [selected]="dateRange"></mat-calendar>
        </mat-card>
      </div>
    </div>
  </div>

  <!--  Pick a range of date to show feedback-->
  <div class="form__main">
    <div class="form__box box__shadow" style="margin: 10px">
      <div class="main__primary">
        <div class="container-cards">
          <div class="box">
            <mat-card class="statistic-card">
              <mat-card-content>
                <div class="statistic-content">
                  <p class="statistic-card-title">
                    {{ goodAnsweredPercentage | number : '1.0-0' }} %
                  </p>
                  <img class="icon_img" src="assets/images/glad.png"/>
                </div>
                Positivos
              </mat-card-content>
            </mat-card>
          </div>
          <div class="box">
            <mat-card class="statistic-card">
              <mat-card-content>
                <div class="statistic-content">
                  <p class="statistic-card-title">
                    {{ neutralAnsweredPercentage | number : '1.0-0' }} %
                  </p>
                  <img class="icon_img" src="assets/images/normal.png"/>
                </div>
                Neutrales
              </mat-card-content>
            </mat-card>
          </div>
          <div class="box">
            <mat-card class="statistic-card">
              <mat-card-content>
                <div class="statistic-content">
                  <p class="statistic-card-title">
                    {{ badAnsweredPercentage | number : '1.0-0' }} %
                  </p>
                  <img class="icon_img" src="assets/images/sad.png"/>
                </div>
                Negativos
              </mat-card-content>
            </mat-card>
          </div>
          <div class="box">
            <mat-card class="statistic-card">
              <mat-card-content>
                <div class="statistic-content">
                  <p class="statistic-card-title">
                    {{ notAnsweredPercentage | number : '1.0-0' }} %
                  </p>
                  <img class="icon_img" src="assets/images/no-feedback.png"/>
                </div>
                No feedback
              </mat-card-content>
            </mat-card>
          </div>
        </div>
      </div>
      <ng-template #noFeedbacks> No ha habido feedback en este rango de fechas.</ng-template>
    </div>
    <div class="main__secondary">
      <div class="form__calendar" style="margin: 0">
        <!--        <mat-card class="calendar">-->
        <!--          <mat-calendar (selectedChange)="onSelectedDateRangeChanged($event)"-->
        <!--                        [selected]="dateRange">-->
        <!--          </mat-calendar>-->
        <!--        </mat-card>-->
      </div>
    </div>
  </div>
</div>
